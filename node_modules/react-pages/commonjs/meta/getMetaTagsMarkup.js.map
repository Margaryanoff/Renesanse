{"version":3,"file":"getMetaTagsMarkup.js","names":["getMetaTagsMarkup","meta","title","charset","normalizeMeta","escapeHtml","BASE_META","concat","map","key","value","generateMetaTagMarkup","name","String","getMetaAttributeFor"],"sources":["../../lib/meta/getMetaTagsMarkup.js"],"sourcesContent":["import escapeHtml from '../escapeHtml.js'\r\n\r\nimport { getMetaAttributeFor } from './BrowserDocument.js'\r\nimport normalizeMeta from './normalizeMeta.js'\r\n\r\nimport BASE_META from './baseMeta.js'\r\n\r\n/**\r\n * Generates a list of `<title/>` and `<meta/>` tags markup.\r\n * @param  {object[]} meta\r\n * @return {string[]}\r\n */\r\nexport default function getMetaTagsMarkup(meta) {\r\n\tconst { title, charset } = meta\r\n\tmeta = normalizeMeta(meta)\r\n\r\n\treturn [\r\n\t\t// `<meta charset/>` should always come first\r\n\t\t// because some browsers only read the first\r\n\t\t// 1024 bytes when deciding on page encoding.\r\n\t\t// (`<meta charset/>` is always present)\r\n\t\t`<meta charset=\"${escapeHtml(charset || BASE_META.charset)}\"/>`,\r\n\t\t`<title>${escapeHtml(title || '')}</title>`\r\n\t]\r\n\t.concat(\r\n\t\tmeta.map(([key, value]) => generateMetaTagMarkup(key, value))\r\n\t)\r\n}\r\n\r\n/**\r\n * Generates `<meta/>` tag HTML markup.\r\n * @param {string} key\r\n * @param {string} value\r\n * @return {string}\r\n */\r\nfunction generateMetaTagMarkup(name, value) {\r\n\tif (typeof value === 'boolean' || typeof value === 'number') {\r\n\t\tvalue = String(value)\r\n\t} else {\r\n\t\tvalue = escapeHtml(String(value))\r\n\t}\r\n\treturn `<meta ${getMetaAttributeFor(name)}=\"${name}\" content=\"${value}\"/>`\r\n}"],"mappings":";;;;;;AAAA;AAEA;AACA;AAEA;AAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAErC;AACA;AACA;AACA;AACA;AACe,SAASA,iBAAiB,CAACC,IAAI,EAAE;EAC/C,YAA2BA,IAAI;IAAvBC,KAAK,SAALA,KAAK;IAAEC,OAAO,SAAPA,OAAO;EACtBF,IAAI,GAAG,IAAAG,yBAAa,EAACH,IAAI,CAAC;EAE1B,OAAO,CACN;EACA;EACA;EACA;EAAA,0BACkB,IAAAI,sBAAU,EAACF,OAAO,IAAIG,oBAAS,CAACH,OAAO,CAAC,4BAChD,IAAAE,sBAAU,EAACH,KAAK,IAAI,EAAE,CAAC,cACjC,CACAK,MAAM,CACNN,IAAI,CAACO,GAAG,CAAC;IAAA;MAAEC,GAAG;MAAEC,KAAK;IAAA,OAAMC,qBAAqB,CAACF,GAAG,EAAEC,KAAK,CAAC;EAAA,EAAC,CAC7D;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,qBAAqB,CAACC,IAAI,EAAEF,KAAK,EAAE;EAC3C,IAAI,OAAOA,KAAK,KAAK,SAAS,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC5DA,KAAK,GAAGG,MAAM,CAACH,KAAK,CAAC;EACtB,CAAC,MAAM;IACNA,KAAK,GAAG,IAAAL,sBAAU,EAACQ,MAAM,CAACH,KAAK,CAAC,CAAC;EAClC;EACA,uBAAgB,IAAAI,oCAAmB,EAACF,IAAI,CAAC,gBAAKA,IAAI,0BAAcF,KAAK;AACtE"}