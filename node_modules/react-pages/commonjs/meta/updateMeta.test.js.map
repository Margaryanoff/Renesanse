{"version":3,"file":"updateMeta.test.js","names":["describe","it","document","TestDocument","updateMeta","title","description","site_name","locale","locales","viewport","keywords","author","getMetaTags","should","deep","equal","getTitle","siteName","expect","to","be","undefined","charset"],"sources":["../../lib/meta/updateMeta.test.js"],"sourcesContent":["import updateMeta from './updateMeta.js'\r\n\r\nimport TestDocument from './TestDocument.js'\r\n\r\ndescribe(`meta`, () =>\r\n{\r\n\tit(`should update meta`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument\r\n\t\t([\r\n\t\t\t['charset', 'win1250'],\r\n\t\t\t['og:locale', 'de'],\r\n\t\t\t['og:locale', 'fr']\r\n\t\t])\r\n\r\n\t\tupdateMeta\r\n\t\t({\r\n\t\t\ttitle        : 'Test',\r\n\t\t\tdescription  : 'Testing metadata',\r\n\t\t\tsite_name    : 'Testing',\r\n\t\t\tlocale       : 'ru',\r\n\t\t\tlocales      : ['en', 'fr'],\r\n\t\t\tviewport     : 'width=device-width, initial-scale=1',\r\n\t\t\tkeywords     : 'react, redux, webpack',\r\n\t\t\tauthor       : '@catamphetamine'\r\n\t\t},\r\n\t\tdocument)\r\n\r\n\t\tdocument.getMetaTags().should.deep.equal\r\n\t\t([\r\n\t\t\t['og:locale', 'ru'],\r\n\t\t\t['og:title', 'Test'],\r\n\t\t\t['description', 'Testing metadata'],\r\n\t\t\t['og:description', 'Testing metadata'],\r\n\t\t\t['og:site_name', 'Testing'],\r\n\t\t\t['og:locale:alternate', 'en'],\r\n\t\t\t['og:locale:alternate', 'fr'],\r\n\t\t\t['viewport', 'width=device-width, initial-scale=1'],\r\n\t\t\t['keywords', 'react, redux, webpack'],\r\n\t\t\t['author', '@catamphetamine']\r\n\t\t])\r\n\r\n\t\tdocument.getTitle().should.equal('Test')\r\n\t})\r\n\r\n\tit(`should transform \"siteName\" to \"site_name\"`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument\r\n\t\t([\r\n\t\t\t['charset', 'utf-8'],\r\n\t\t\t['og:locale', 'en'],\r\n\t\t])\r\n\r\n\t\tupdateMeta({\r\n\t\t\tsiteName: 'Testing'\r\n\t\t}, document)\r\n\r\n\t\tdocument.getMetaTags().should.deep.equal\r\n\t\t([\r\n\t\t\t['og:site_name', 'Testing']\r\n\t\t])\r\n\t})\r\n\r\n\tit(`should update meta without title and charset`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument()\r\n\t\tupdateMeta({}, document)\r\n\t\tdocument.getMetaTags().should.deep.equal([])\r\n\t\texpect(document.getTitle()).to.be.undefined\r\n\t})\r\n\r\n\tit(`should update charset`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument([['charset', 'win1250']])\r\n\t\tupdateMeta({ charset : 'utf-8' }, document)\r\n\t\tdocument.getMetaTags().should.deep.equal([['charset', 'utf-8']])\r\n\t})\r\n\r\n\tit(`should skip updating same charset`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument([['charset', 'utf-8']])\r\n\t\tupdateMeta({ charset : 'utf-8' }, document)\r\n\t\tdocument.getMetaTags().should.deep.equal([['charset', 'utf-8']])\r\n\t})\r\n})"],"mappings":"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"}