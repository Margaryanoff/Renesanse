"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = useNavigationStartEffect;
var _react = require("react");
var _context = require("../context.js");
function useNavigationStartEffect(onNavigate) {
  (0, _react.useEffect)(function () {
    var addListener = function addListener() {
      if (!(0, _context.getFromContext)('App/NavigationStartListeners')) {
        (0, _context.setInContext)('App/NavigationStartListeners', []);
      }
      (0, _context.setInContext)('App/NavigationStartListeners', (0, _context.getFromContext)('App/NavigationStartListeners').concat([onNavigate]));
    };
    var removeListener = function removeListener() {
      if ((0, _context.getFromContext)('App/NavigationStartListeners')) {
        (0, _context.setInContext)('App/NavigationStartListeners', (0, _context.getFromContext)('App/NavigationStartListeners').filter(function (_) {
          return _ !== onNavigate;
        }));
      }
    };
    addListener();
    return function () {
      removeListener();
    };
  }, []);
}
//# sourceMappingURL=useNavigationStartEffect.js.map