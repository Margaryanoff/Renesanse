{"version":3,"file":"actions.js","names":["setNavigationContext","context","undefined","window","Error","setInContext","setNavigationLoadFlag","load","redirect","location","Actions","replace","goto","instantBack","setInstantBackAbilityFlagForThisNavigation","push","navigateThroughHistory","delta","go","REDIRECT_ACTION_TYPE","ActionTypes","REPLACE","GOTO_ACTION_TYPE","PUSH","goBack","goBackTwoPages","goForward","pushLocation","options","replaceLocation","initializeRouterAction","init","UPDATE_MATCH","FoundActionTypes","RESOLVE_MATCH","_RESOLVE_MATCH","UNLISTEN_BROWSER_HISTORY_EVENTS","DISPOSE"],"sources":["../../lib/router/actions.js"],"sourcesContent":["// `@catamphetamine/found` is a fork of `found` with some changes:\r\n// * `redux` and `react-redux` are `peerDependencies` instead of `dependencies`.\r\n// * `farce` was replaced with `@catamphetamine/farce` (added `location.origin`)\r\nimport {\r\n\tActionTypes as FoundActionTypes\r\n} from '@catamphetamine/found'\r\n\r\nimport {\r\n\tActions,\r\n\tActionTypes\r\n} from '@catamphetamine/farce'\r\n\r\nimport { setInstantBackAbilityFlagForThisNavigation } from '../redux/client/instantNavigation.js'\r\n\r\nimport { setInContext } from '../context.js'\r\n\r\nexport function setNavigationContext(context) {\r\n\tif (context !== undefined) {\r\n\t\tif (typeof window === 'undefined') {\r\n\t\t\tthrow new Error('Navigation context parameter is only supported on client side')\r\n\t\t}\r\n\t\tsetInContext('Navigation/Context', context)\r\n\t}\r\n}\r\n\r\nfunction setNavigationLoadFlag(load) {\r\n\tif (load === false) {\r\n\t\tsetInContext('Navigation/SkipLoad', true)\r\n\t}\r\n}\r\n\r\nexport function redirect(location, { load, context } = {}) {\r\n\tsetNavigationLoadFlag(load)\r\n\tsetNavigationContext(context)\r\n\treturn Actions.replace(location)\r\n}\r\n\r\nexport function goto(location, { load, context, instantBack } = {}) {\r\n\tsetNavigationLoadFlag(load)\r\n\tsetNavigationContext(context)\r\n\tsetInstantBackAbilityFlagForThisNavigation(instantBack)\r\n\treturn Actions.push(location)\r\n}\r\n\r\nexport function navigateThroughHistory(delta, { load } = {}) {\r\n\tsetNavigationLoadFlag(load)\r\n\treturn Actions.go(delta)\r\n}\r\n\r\nexport const REDIRECT_ACTION_TYPE = ActionTypes.REPLACE\r\nexport const GOTO_ACTION_TYPE = ActionTypes.PUSH\r\n\r\nexport function goBack() {\r\n\treturn Actions.go(-1)\r\n}\r\n\r\nexport function goBackTwoPages() {\r\n\treturn Actions.go(-2)\r\n}\r\n\r\nexport function goForward() {\r\n\treturn Actions.go(1)\r\n}\r\n\r\nexport function pushLocation(location, options) {\r\n\tsetNavigationLoadFlag(false)\r\n\treturn goto(location, options)\r\n}\r\n\r\nexport function replaceLocation(location) {\r\n\tsetNavigationLoadFlag(false)\r\n\treturn redirect(location)\r\n}\r\n\r\nexport function initializeRouterAction() {\r\n\treturn Actions.init()\r\n}\r\n\r\nexport const UPDATE_MATCH = FoundActionTypes.UPDATE_MATCH\r\nexport const RESOLVE_MATCH = FoundActionTypes.RESOLVE_MATCH\r\n\r\nexport const _RESOLVE_MATCH = '@@react-pages/RESOLVE_MATCH'\r\n\r\nexport const UNLISTEN_BROWSER_HISTORY_EVENTS = ActionTypes.DISPOSE"],"mappings":";;;;;;;;;;;;;;;;AAGA;AAIA;AAKA;AAEA;AAdA;AACA;AACA;;AAcO,SAASA,oBAAoB,CAACC,OAAO,EAAE;EAC7C,IAAIA,OAAO,KAAKC,SAAS,EAAE;IAC1B,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;MAClC,MAAM,IAAIC,KAAK,CAAC,+DAA+D,CAAC;IACjF;IACA,IAAAC,qBAAY,EAAC,oBAAoB,EAAEJ,OAAO,CAAC;EAC5C;AACD;AAEA,SAASK,qBAAqB,CAACC,IAAI,EAAE;EACpC,IAAIA,IAAI,KAAK,KAAK,EAAE;IACnB,IAAAF,qBAAY,EAAC,qBAAqB,EAAE,IAAI,CAAC;EAC1C;AACD;AAEO,SAASG,QAAQ,CAACC,QAAQ,EAA0B;EAAA,+EAAJ,CAAC,CAAC;IAApBF,IAAI,QAAJA,IAAI;IAAEN,OAAO,QAAPA,OAAO;EACjDK,qBAAqB,CAACC,IAAI,CAAC;EAC3BP,oBAAoB,CAACC,OAAO,CAAC;EAC7B,OAAOS,cAAO,CAACC,OAAO,CAACF,QAAQ,CAAC;AACjC;AAEO,SAASG,KAAI,CAACH,QAAQ,EAAuC;EAAA,gFAAJ,CAAC,CAAC;IAAjCF,IAAI,SAAJA,IAAI;IAAEN,OAAO,SAAPA,OAAO;IAAEY,WAAW,SAAXA,WAAW;EAC1DP,qBAAqB,CAACC,IAAI,CAAC;EAC3BP,oBAAoB,CAACC,OAAO,CAAC;EAC7B,IAAAa,6DAA0C,EAACD,WAAW,CAAC;EACvD,OAAOH,cAAO,CAACK,IAAI,CAACN,QAAQ,CAAC;AAC9B;AAEO,SAASO,sBAAsB,CAACC,KAAK,EAAiB;EAAA,gFAAJ,CAAC,CAAC;IAAXV,IAAI,SAAJA,IAAI;EACnDD,qBAAqB,CAACC,IAAI,CAAC;EAC3B,OAAOG,cAAO,CAACQ,EAAE,CAACD,KAAK,CAAC;AACzB;AAEO,IAAME,oBAAoB,GAAGC,kBAAW,CAACC,OAAO;AAAA;AAChD,IAAMC,gBAAgB,GAAGF,kBAAW,CAACG,IAAI;AAAA;AAEzC,SAASC,MAAM,GAAG;EACxB,OAAOd,cAAO,CAACQ,EAAE,CAAC,CAAC,CAAC,CAAC;AACtB;AAEO,SAASO,cAAc,GAAG;EAChC,OAAOf,cAAO,CAACQ,EAAE,CAAC,CAAC,CAAC,CAAC;AACtB;AAEO,SAASQ,SAAS,GAAG;EAC3B,OAAOhB,cAAO,CAACQ,EAAE,CAAC,CAAC,CAAC;AACrB;AAEO,SAASS,YAAY,CAAClB,QAAQ,EAAEmB,OAAO,EAAE;EAC/CtB,qBAAqB,CAAC,KAAK,CAAC;EAC5B,OAAOM,KAAI,CAACH,QAAQ,EAAEmB,OAAO,CAAC;AAC/B;AAEO,SAASC,eAAe,CAACpB,QAAQ,EAAE;EACzCH,qBAAqB,CAAC,KAAK,CAAC;EAC5B,OAAOE,QAAQ,CAACC,QAAQ,CAAC;AAC1B;AAEO,SAASqB,sBAAsB,GAAG;EACxC,OAAOpB,cAAO,CAACqB,IAAI,EAAE;AACtB;AAEO,IAAMC,YAAY,GAAGC,kBAAgB,CAACD,YAAY;AAAA;AAClD,IAAME,aAAa,GAAGD,kBAAgB,CAACC,aAAa;AAAA;AAEpD,IAAMC,cAAc,GAAG,6BAA6B;AAAA;AAEpD,IAAMC,+BAA+B,GAAGhB,kBAAW,CAACiB,OAAO;AAAA"}