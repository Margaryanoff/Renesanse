{"version":3,"file":"useNavigationStartEffect.js","names":["useNavigationStartEffect","onNavigate","useEffect","addListener","getFromContext","setInContext","concat","removeListener","filter","_"],"sources":["../../lib/router/useNavigationStartEffect.js"],"sourcesContent":["import { useEffect } from 'react'\r\n\r\nimport { setInContext, getFromContext } from '../context.js'\r\n\r\nexport default function useNavigationStartEffect(onNavigate) {\r\n\tuseEffect(() => {\r\n\t\tconst addListener = () => {\r\n\t\t\tif (!getFromContext('App/NavigationStartListeners')) {\r\n\t\t\t\tsetInContext('App/NavigationStartListeners', [])\r\n\t\t\t}\r\n\t\t\tsetInContext('App/NavigationStartListeners', getFromContext('App/NavigationStartListeners').concat([onNavigate]))\r\n\t\t}\r\n\t\tconst removeListener = () => {\r\n\t\t\tif (getFromContext('App/NavigationStartListeners')) {\r\n\t\t\t\tsetInContext('App/NavigationStartListeners', getFromContext('App/NavigationStartListeners').filter(_ => _ !== onNavigate))\r\n\t\t\t}\r\n\t\t}\r\n\t\taddListener()\r\n\t\treturn () => {\r\n\t\t\tremoveListener()\r\n\t\t}\r\n\t}, [])\r\n}"],"mappings":";;;;;;AAAA;AAEA;AAEe,SAASA,wBAAwB,CAACC,UAAU,EAAE;EAC5D,IAAAC,gBAAS,EAAC,YAAM;IACf,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAS;MACzB,IAAI,CAAC,IAAAC,uBAAc,EAAC,8BAA8B,CAAC,EAAE;QACpD,IAAAC,qBAAY,EAAC,8BAA8B,EAAE,EAAE,CAAC;MACjD;MACA,IAAAA,qBAAY,EAAC,8BAA8B,EAAE,IAAAD,uBAAc,EAAC,8BAA8B,CAAC,CAACE,MAAM,CAAC,CAACL,UAAU,CAAC,CAAC,CAAC;IAClH,CAAC;IACD,IAAMM,cAAc,GAAG,SAAjBA,cAAc,GAAS;MAC5B,IAAI,IAAAH,uBAAc,EAAC,8BAA8B,CAAC,EAAE;QACnD,IAAAC,qBAAY,EAAC,8BAA8B,EAAE,IAAAD,uBAAc,EAAC,8BAA8B,CAAC,CAACI,MAAM,CAAC,UAAAC,CAAC;UAAA,OAAIA,CAAC,KAAKR,UAAU;QAAA,EAAC,CAAC;MAC3H;IACD,CAAC;IACDE,WAAW,EAAE;IACb,OAAO,YAAM;MACZI,cAAc,EAAE;IACjB,CAAC;EACF,CAAC,EAAE,EAAE,CAAC;AACP"}