{"version":3,"file":"useNavigationEndEffect.js","names":["useNavigationEndEffect","onNavigate","useEffect","addListener","getFromContext","setInContext","concat","removeListener","filter","_"],"sources":["../../lib/router/useNavigationEndEffect.js"],"sourcesContent":["import { useEffect } from 'react'\r\n\r\nimport { setInContext, getFromContext } from '../context.js'\r\n\r\nexport default function useNavigationEndEffect(onNavigate) {\r\n\tuseEffect(() => {\r\n\t\tconst addListener = () => {\r\n\t\t\tif (!getFromContext('App/NavigationEndListeners')) {\r\n\t\t\t\tsetInContext('App/NavigationEndListeners', [])\r\n\t\t\t}\r\n\t\t\tsetInContext('App/NavigationEndListeners', getFromContext('App/NavigationEndListeners').concat([onNavigate]))\r\n\t\t}\r\n\t\tconst removeListener = () => {\r\n\t\t\tif (getFromContext('App/NavigationEndListeners')) {\r\n\t\t\t\tsetInContext('App/NavigationEndListeners', getFromContext('App/NavigationEndListeners').filter(_ => _ !== onNavigate))\r\n\t\t\t}\r\n\t\t}\r\n\t\taddListener()\r\n\t\treturn () => {\r\n\t\t\tremoveListener()\r\n\t\t}\r\n\t}, [])\r\n}"],"mappings":";;;;;;AAAA;AAEA;AAEe,SAASA,sBAAsB,CAACC,UAAU,EAAE;EAC1D,IAAAC,gBAAS,EAAC,YAAM;IACf,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAS;MACzB,IAAI,CAAC,IAAAC,uBAAc,EAAC,4BAA4B,CAAC,EAAE;QAClD,IAAAC,qBAAY,EAAC,4BAA4B,EAAE,EAAE,CAAC;MAC/C;MACA,IAAAA,qBAAY,EAAC,4BAA4B,EAAE,IAAAD,uBAAc,EAAC,4BAA4B,CAAC,CAACE,MAAM,CAAC,CAACL,UAAU,CAAC,CAAC,CAAC;IAC9G,CAAC;IACD,IAAMM,cAAc,GAAG,SAAjBA,cAAc,GAAS;MAC5B,IAAI,IAAAH,uBAAc,EAAC,4BAA4B,CAAC,EAAE;QACjD,IAAAC,qBAAY,EAAC,4BAA4B,EAAE,IAAAD,uBAAc,EAAC,4BAA4B,CAAC,CAACI,MAAM,CAAC,UAAAC,CAAC;UAAA,OAAIA,CAAC,KAAKR,UAAU;QAAA,EAAC,CAAC;MACvH;IACD,CAAC;IACDE,WAAW,EAAE;IACb,OAAO,YAAM;MACZI,cAAc,EAAE;IACjB,CAAC;EACF,CAAC,EAAE,EAAE,CAAC;AACP"}