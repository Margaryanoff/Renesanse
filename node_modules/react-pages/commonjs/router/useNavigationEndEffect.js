"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = useNavigationEndEffect;
var _react = require("react");
var _context = require("../context.js");
function useNavigationEndEffect(onNavigate) {
  (0, _react.useEffect)(function () {
    var addListener = function addListener() {
      if (!(0, _context.getFromContext)('App/NavigationEndListeners')) {
        (0, _context.setInContext)('App/NavigationEndListeners', []);
      }
      (0, _context.setInContext)('App/NavigationEndListeners', (0, _context.getFromContext)('App/NavigationEndListeners').concat([onNavigate]));
    };
    var removeListener = function removeListener() {
      if ((0, _context.getFromContext)('App/NavigationEndListeners')) {
        (0, _context.setInContext)('App/NavigationEndListeners', (0, _context.getFromContext)('App/NavigationEndListeners').filter(function (_) {
          return _ !== onNavigate;
        }));
      }
    };
    addListener();
    return function () {
      removeListener();
    };
  }, []);
}
//# sourceMappingURL=useNavigationEndEffect.js.map