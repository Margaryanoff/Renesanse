{"version":3,"file":"router.js","names":["foundRouterIsReady","onFoundRouterReadyListeners","window","onFoundRouterIsReady","onFoundRouterReadyListener","onFoundRouterReady","listener","Promise","resolve","push"],"sources":["../../../lib/redux/client/router.js"],"sourcesContent":["let foundRouterIsReady = false\r\nconst onFoundRouterReadyListeners = []\r\n\r\n// Fixes a bug when `found` ignores all navigation actions until its `componentDidMount()` is called.\r\n//\r\n// The code here is the first half of the workaround.\r\n// The second half of the workaround is the added code in `found`'s `src/createBaseRouter.tsx` file:\r\n//\r\n// componentDidMount() {\r\n//   if (typeof window !== 'undefined') {\r\n//     if (window.onFoundRouterIsReady) {\r\n//       window.onFoundRouterIsReady()\r\n//     }\r\n//   }\r\n// }\r\n//\r\n// https://github.com/catamphetamine/found/commit/be416e3bc0715207f861fb5466ed666e9d7c016c\r\n//\r\nif (typeof window !== 'undefined') {\r\n  window.onFoundRouterIsReady = () => {\r\n  \tif (!foundRouterIsReady) {\r\n  \t\tfoundRouterIsReady = true\r\n  \t\tfor (const onFoundRouterReadyListener of onFoundRouterReadyListeners) {\r\n  \t\t\tonFoundRouterReadyListener()\r\n  \t\t}\r\n  \t}\r\n  }\r\n}\r\n\r\nexport function onFoundRouterReady(listener) {\r\n\tif (foundRouterIsReady) {\r\n\t\treturn listener()\r\n\t} else {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tonFoundRouterReadyListeners.push(() => resolve(listener()))\r\n\t\t})\r\n\t}\r\n}"],"mappings":";;;;;;;;;AAAA,IAAIA,kBAAkB,GAAG,KAAK;AAC9B,IAAMC,2BAA2B,GAAG,EAAE;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;EACjCA,MAAM,CAACC,oBAAoB,GAAG,YAAM;IACnC,IAAI,CAACH,kBAAkB,EAAE;MACxBA,kBAAkB,GAAG,IAAI;MAAA,2CACgBC,2BAA2B;QAAA;MAAA;QAApE,oDAAsE;UAAA,IAA3DG,0BAA0B;UACpCA,0BAA0B,EAAE;QAC7B;MAAC;QAAA;MAAA;QAAA;MAAA;IACF;EACD,CAAC;AACH;AAEO,SAASC,kBAAkB,CAACC,QAAQ,EAAE;EAC5C,IAAIN,kBAAkB,EAAE;IACvB,OAAOM,QAAQ,EAAE;EAClB,CAAC,MAAM;IACN,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAK;MAC/BP,2BAA2B,CAACQ,IAAI,CAAC;QAAA,OAAMD,OAAO,CAACF,QAAQ,EAAE,CAAC;MAAA,EAAC;IAC5D,CAAC,CAAC;EACH;AACD"}