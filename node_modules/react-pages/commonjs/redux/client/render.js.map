{"version":3,"file":"render.js","names":["render","store","matchRoutes","then","renderArgs","clearInContext","element","Router","dispatch","getState","rootComponentProps","enableHotReload","startHotReload"],"sources":["../../../lib/redux/client/render.js"],"sourcesContent":["import { matchRoutes } from '../../router/index.js'\r\nimport Router from '../../router/client/Router.js'\r\nimport { isServerSideLoaded } from '../../client/flags.js'\r\nimport { startHotReload } from '../hotReload.js'\r\nimport { clearInContext } from '../../context.js'\r\n\r\n// Renders the current page React element inside the `to` DOM element.\r\n//\r\n// Returns a `Promise` resolving to `{ store, component }`,\r\n// where `component` is the rendered React component\r\n// and `store` is the Redux store.\r\n//\r\nexport default function render({ store }) {\r\n\treturn matchRoutes(store).then((renderArgs) => {\r\n\t\t// The first pass of initial client-side render\r\n\t\t// was to render the markup which matches server-side one.\r\n\t\t// The second pass is about rendering after resolving `getData`.\r\n\t\tclearInContext('InitialPage/RepeatingServerSideRenderOnClientSide')\r\n\t\tclearInContext('InitialPage/SkipLoad')\r\n\r\n\t\t// // `routes` are used when comparing `instantBack` chain items\r\n\t\t// // for resetting `instantBack` chain when the same route is encountered twice.\r\n\t\t// setInContext('...RouteComponents..., renderArgs.routeIndices)\r\n\r\n\t\treturn {\r\n\t\t\telement: Router({\r\n\t\t\t\t...renderArgs,\r\n\t\t\t\tdispatch: store.dispatch,\r\n\t\t\t\tgetState: store.getState\r\n\t\t\t}),\r\n\t\t\trootComponentProps: { store },\r\n\r\n\t\t\t// The rest of the properties here will be available for a developer in the `result` object\r\n\t\t\t// returned from the client-side `render()` function.\r\n\r\n\t\t\t// Redux `store` could be used to \"hot-reload\" reducers via Webpack Hot Module Replacement.\r\n\t\t\tenableHotReload: () => startHotReload({ store })\r\n\t\t}\r\n\t})\r\n}"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AAAiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEjD;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,MAAM,OAAY;EAAA,IAATC,KAAK,QAALA,KAAK;EACrC,OAAO,IAAAC,kBAAW,EAACD,KAAK,CAAC,CAACE,IAAI,CAAC,UAACC,UAAU,EAAK;IAC9C;IACA;IACA;IACA,IAAAC,uBAAc,EAAC,mDAAmD,CAAC;IACnE,IAAAA,uBAAc,EAAC,sBAAsB,CAAC;;IAEtC;IACA;IACA;;IAEA,OAAO;MACNC,OAAO,EAAE,IAAAC,kBAAM,kCACXH,UAAU;QACbI,QAAQ,EAAEP,KAAK,CAACO,QAAQ;QACxBC,QAAQ,EAAER,KAAK,CAACQ;MAAQ,GACvB;MACFC,kBAAkB,EAAE;QAAET,KAAK,EAALA;MAAM,CAAC;MAE7B;MACA;;MAEA;MACAU,eAAe,EAAE;QAAA,OAAM,IAAAC,yBAAc,EAAC;UAAEX,KAAK,EAALA;QAAM,CAAC,CAAC;MAAA;IACjD,CAAC;EACF,CAAC,CAAC;AACH"}