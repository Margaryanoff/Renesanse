"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = usePageStateSelector;
exports.usePageStateSelectorWithCustomUseSelector = usePageStateSelectorWithCustomUseSelector;
var _useSelectorForPage = _interopRequireDefault(require("./useSelectorForPage.js"));
var _constants = require("./constants.js");
var _LeafRouteContext = require("../router/LeafRouteContext.js");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }
function usePageStateSelector(reducerName, selectorFromReducerState) {
  var isLeafRoute = (0, _LeafRouteContext.useIsLeafRoute)();
  if (!isLeafRoute) {
    throw new Error('Can only use `usePageStateSelector()` hook inside a "leaf" route component');
  }
  return usePageStateSelectorWithCustomUseSelector(reducerName, selectorFromReducerState, _useSelectorForPage["default"]);
}
function usePageStateSelectorWithCustomUseSelector(reducerName, selectorFromReducerState, useSelector) {
  var createFakeState = function createFakeState(state) {
    var fakeState = {};
    fakeState[reducerName] = state[_constants.PAGE_STATE_REDUCER_NAME_PREFIX + reducerName];
    return fakeState;
  };
  return useSelector(function (state) {
    return selectorFromReducerState(createFakeState(state));
  });
}
//# sourceMappingURL=usePageStateSelector.js.map