{"version":3,"file":"download.js","names":["download","url","Promise","resolve","reject","secure","indexOf","protocol","request","https","http","response","setEncoding","response_body","on","chunk","status","statusCode","content","end"],"sources":["../../lib/static-site-generator/download.js"],"sourcesContent":["import http from 'http'\r\nimport https from 'https'\r\n\r\n// Downloads a URL resolving to its text contents\r\nexport default function download(url)\r\n{\r\n\treturn new Promise((resolve, reject) =>\r\n\t{\r\n\t\tconst secure = typeof url === 'string' ? url.indexOf('https://') === 0 : url.protocol === 'https:'\r\n\r\n\t\tconst request = (secure ? https : http).request(url, (response) =>\r\n\t\t{\r\n\t\t\tresponse.setEncoding('utf8')\r\n\r\n\t\t\tlet response_body = ''\r\n\t\t\tresponse.on('data', chunk => response_body += chunk)\r\n\t\t\tresponse.on('end', () => resolve({ status: response.statusCode, content: response_body }))\r\n\t\t})\r\n\r\n\t\trequest.on('error', reject)\r\n\t\trequest.end()\r\n\t})\r\n}"],"mappings":";;;;;;AAAA;AACA;AAAyB;AAEzB;AACe,SAASA,QAAQ,CAACC,GAAG,EACpC;EACC,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EACnC;IACC,IAAMC,MAAM,GAAG,OAAOJ,GAAG,KAAK,QAAQ,GAAGA,GAAG,CAACK,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,GAAGL,GAAG,CAACM,QAAQ,KAAK,QAAQ;IAElG,IAAMC,OAAO,GAAG,CAACH,MAAM,GAAGI,iBAAK,GAAGC,gBAAI,EAAEF,OAAO,CAACP,GAAG,EAAE,UAACU,QAAQ,EAC9D;MACCA,QAAQ,CAACC,WAAW,CAAC,MAAM,CAAC;MAE5B,IAAIC,aAAa,GAAG,EAAE;MACtBF,QAAQ,CAACG,EAAE,CAAC,MAAM,EAAE,UAAAC,KAAK;QAAA,OAAIF,aAAa,IAAIE,KAAK;MAAA,EAAC;MACpDJ,QAAQ,CAACG,EAAE,CAAC,KAAK,EAAE;QAAA,OAAMX,OAAO,CAAC;UAAEa,MAAM,EAAEL,QAAQ,CAACM,UAAU;UAAEC,OAAO,EAAEL;QAAc,CAAC,CAAC;MAAA,EAAC;IAC3F,CAAC,CAAC;IAEFL,OAAO,CAACM,EAAE,CAAC,OAAO,EAAEV,MAAM,CAAC;IAC3BI,OAAO,CAACW,GAAG,EAAE;EACd,CAAC,CAAC;AACH"}