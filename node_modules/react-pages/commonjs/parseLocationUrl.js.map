{"version":3,"file":"parseLocationUrl.js","names":["parseLocation","location","origin","pathname","pathname_starts_at","indexOf","length","slice","Error","search","hash","search_index","hash_index"],"sources":["../lib/parseLocationUrl.js"],"sourcesContent":["// Doesn't construct `query` though\r\nexport default function parseLocation(location)\r\n{\r\n\tlet origin\r\n\tlet pathname\r\n\r\n\tif (location === '') {\r\n\t\tpathname = '/'\r\n\t} else if (location[0] === '/') {\r\n\t\tpathname = location\r\n\t} else {\r\n\t\tconst pathname_starts_at = location.indexOf('/', location.indexOf('//') + '//'.length)\r\n\r\n\t\tif (pathname_starts_at > 0) {\r\n\t\t\torigin   = location.slice(0, pathname_starts_at)\r\n\t\t\tpathname = location.slice(pathname_starts_at)\r\n\t\t} else {\r\n\t\t\torigin   = location\r\n\t\t\tpathname = '/'\r\n\t\t}\r\n\t}\r\n\r\n\t// `url` is obtained from Node.js `request.url` property,\r\n\t// which is always a relative URL.\r\n\t// https://nodejs.org/api/http.html#messageurl\r\n\tif (origin) {\r\n\t\tthrow new Error('[react-pages] `parseLocationUrl()`: A `location` can\\'t contain an `origin` property: all locations must be relative')\r\n\t}\r\n\r\n\tlet search = ''\r\n\tlet hash = ''\r\n\r\n\tconst search_index = pathname.indexOf('?')\r\n\tif (search_index >= 0) {\r\n\t\tsearch   = pathname.slice(search_index)\r\n\t\tpathname = pathname.slice(0, search_index)\r\n\t}\r\n\r\n\tconst hash_index = search.indexOf('#')\r\n\tif (hash_index >= 0) {\r\n\t\thash   = search.slice(hash_index)\r\n\t\tsearch = search.slice(0, hash_index)\r\n\t}\r\n\r\n\t// return { origin, pathname, search, hash }\r\n\treturn { pathname, search, hash }\r\n}\r\n"],"mappings":";;;;;;AAAA;AACe,SAASA,aAAa,CAACC,QAAQ,EAC9C;EACC,IAAIC,MAAM;EACV,IAAIC,QAAQ;EAEZ,IAAIF,QAAQ,KAAK,EAAE,EAAE;IACpBE,QAAQ,GAAG,GAAG;EACf,CAAC,MAAM,IAAIF,QAAQ,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IAC/BE,QAAQ,GAAGF,QAAQ;EACpB,CAAC,MAAM;IACN,IAAMG,kBAAkB,GAAGH,QAAQ,CAACI,OAAO,CAAC,GAAG,EAAEJ,QAAQ,CAACI,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAACC,MAAM,CAAC;IAEtF,IAAIF,kBAAkB,GAAG,CAAC,EAAE;MAC3BF,MAAM,GAAKD,QAAQ,CAACM,KAAK,CAAC,CAAC,EAAEH,kBAAkB,CAAC;MAChDD,QAAQ,GAAGF,QAAQ,CAACM,KAAK,CAACH,kBAAkB,CAAC;IAC9C,CAAC,MAAM;MACNF,MAAM,GAAKD,QAAQ;MACnBE,QAAQ,GAAG,GAAG;IACf;EACD;;EAEA;EACA;EACA;EACA,IAAID,MAAM,EAAE;IACX,MAAM,IAAIM,KAAK,CAAC,sHAAsH,CAAC;EACxI;EAEA,IAAIC,MAAM,GAAG,EAAE;EACf,IAAIC,IAAI,GAAG,EAAE;EAEb,IAAMC,YAAY,GAAGR,QAAQ,CAACE,OAAO,CAAC,GAAG,CAAC;EAC1C,IAAIM,YAAY,IAAI,CAAC,EAAE;IACtBF,MAAM,GAAKN,QAAQ,CAACI,KAAK,CAACI,YAAY,CAAC;IACvCR,QAAQ,GAAGA,QAAQ,CAACI,KAAK,CAAC,CAAC,EAAEI,YAAY,CAAC;EAC3C;EAEA,IAAMC,UAAU,GAAGH,MAAM,CAACJ,OAAO,CAAC,GAAG,CAAC;EACtC,IAAIO,UAAU,IAAI,CAAC,EAAE;IACpBF,IAAI,GAAKD,MAAM,CAACF,KAAK,CAACK,UAAU,CAAC;IACjCH,MAAM,GAAGA,MAAM,CAACF,KAAK,CAAC,CAAC,EAAEK,UAAU,CAAC;EACrC;;EAEA;EACA,OAAO;IAAET,QAAQ,EAARA,QAAQ;IAAEM,MAAM,EAANA,MAAM;IAAEC,IAAI,EAAJA;EAAK,CAAC;AAClC"}